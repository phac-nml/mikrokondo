/*
IRIDANext plugin configuration

*/


iridanext {
    enabled = true
    output {
        path = "${params.outdir}/iridanext.output.json.gz"
        overwrite = true
        validate = false
        files {
            idkey = "sample"
            global = [
                "**/SummaryReport/final_report.json",
                "**/SummaryReport/final_report.tsv"
            ]
            samples = [
                "**/assembly/length_filtered_contigs/*_filtered.fasta.gz",
                "**/assembly/quality/quast/*/*.pdf",
                "**/assembly/7GeneMLST/*.json",
                "**/assembly/taxon_determination/mash/*.taxa.screen",
                "**/subtyping/ectyper/*/output.tsv",
                "**/subtyping/sistr/*/output.tab",
                "**/annotations/abricate/*.txt",
                "**/annotations/mobrecon/*/mobtyper_results.txt",
                "**/StarAMR/*/summary.tsv",
                "**/StarAMR/*/detailed_summary.tsv",
                "**/StarAMR/*/results.xlsx",
                "**/SummaryReport/*_flat_sample.json.gz",
            ]
        }
        metadata {
            samples {
                flatten = true
                json {
                    path = "**/SummaryReport/final_report_flattened.json"
                }
            }
        }
    }
}
